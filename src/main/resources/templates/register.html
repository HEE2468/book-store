

<!DOCTYPE html>
<html>
<head>
    <title>用户注册</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link type="text/css" rel="stylesheet" href="css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <link href="css/mycenter/style.css" type="text/css" rel="stylesheet"/>
    <link href="css/register/register.css" type="text/css" rel="stylesheet"/>
    <link href="layui/css/layui.css" type="text/css" rel="stylesheet"/>
    <script src="layui/layui.js" type="text/javascript"></script>
    <script src="plugins/jquery/dist/jquery.min.js"></script>

</head>
<body>

<!-- header -->
<div class="site-header">
    <div class="site-logo">
        <img class="header-logo" src="images/logo.png">
    </div>
    <div class="header-nav">
        <ul class="nav-list">
            <li class="li-item-center">
                <a class="item-center" href="">主页</a>
            </li>
            <li class="li-item-logout">
                <a class="item-logout" href="login.html">登录</a>
            </li>
        </ul>
    </div>
</div>


<!--account-->
<div class="account">
    <div class="container">
        <div class="register">

            <form>
                <div class="register-top-grid">
                    <h3 style="font-size: 35px;color: #7F7F7F">注册新用户</h3>
                    <span style="color: red;font-weight: bold;font-size: 15px">{{tip}}</span>
                    <div class="input">
                        <span>用户名 <label style="color:red;">*</label></span>
                        <input type="text" v-model="username" placeholder="请输入用户名" required="required">
                    </div>
                    <div class="input">
                        <span>密码 <label style="color:red;">*</label></span>
                        <input type="text" v-model="password" placeholder="请输入密码" required="required">
                    </div>
                    <div class="input">
                        <span>确认密码 <label style="color:red;">*</label></span>
                        <input type="text" placeholder="请确认密码" required="required">
                    </div>
                    <div class="clearfix"> </div>
                </div>
                <div class="register-but text-center">
                    <input type="button" value="提交"  @click="register()" >
                    <div class="clearfix"> </div>
                </div>
            </form>
            <div class="clearfix"> </div>
        </div>
    </div>
</div>
<!--//account-->



<!--footer-->
<div class="footer">
    <div class="container">
        <div class="text-center">
            <p>中信银行股份有限公司版权所有 Copyright © CITIC Bank All rights reserve</p>
        </div>
    </div>
</div>
<!--//footer-->
</body>
<script src="js/jquery-1.12.4.min.js" type="text/javascript"></script>
<script src="js/vue/vue.min.js" type="text/javascript"></script>
<script src="js/axios.min.js" type="text/javascript"></script>
<script type="text/javascript">

    new Vue({
        el: '.account',
        data:{
            tip:'',
            info: null,
            username:'',
            password:''
        },
        mounted () {

        },
        methods:{
            register:function () {
                axios.post('user/insertUser',{
                    username:this.username,
                    password: this.password
                })
                    .then(response => {
                        this.info = response.data;
                      if(this.info.code != 1){
                          this.tip = this.info.msg;
                      }else{
                          // 注册成功
                          window.location.href = "login.html";
                      }
                    })
                    .catch(function (error) { // 请求失败处理
                        console.log(error);
                    });
            }
        }
    })

</script>
</html>